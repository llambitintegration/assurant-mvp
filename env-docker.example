# ============================================================================
# WORKLENZ BACKEND - DOCKER ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to worklenz-backend/.env when running with Docker
# Run: docker-compose up (for NeonDB) or docker-compose --profile local up (for local DB)
# ============================================================================

# =============================================================================
# ENVIRONMENT MODE
# =============================================================================
USE_DOCKER=true
NODE_ENV=production

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3000
SESSION_NAME=worklenz.sid
SESSION_SECRET="your_secure_session_secret_here"
COOKIE_SECRET="your_secure_cookie_secret_here"

# =============================================================================
# CORS CONFIGURATION (Docker)
# =============================================================================
# Frontend is accessed via localhost:5000, backend via localhost:3000
SOCKET_IO_CORS=http://localhost:5000,http://localhost:3000
SERVER_CORS=*

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Option 1: Cloud Database (NeonDB) - Default
DATABASE_URL=postgresql://your-user:your-password@your-project.neon.tech/your-database?sslmode=require
DB_SSL_MODE=require
DB_MAX_CLIENTS=20

# Option 2: Local PostgreSQL (with --profile local)
# Comment out DATABASE_URL and use these:
# DB_USER=postgres
# DB_PASSWORD=password
# DB_NAME=worklenz_db
# DB_HOST=db
# DB_PORT=5432
# DB_SSL_MODE=disable

# =============================================================================
# AUTHENTICATION
# =============================================================================
JWT_SECRET=your_jwt_secret_here_min_32_chars

# Google OAuth
GOOGLE_CLIENT_ID="your_google_client_id"
GOOGLE_CLIENT_SECRET="your_google_client_secret"
GOOGLE_CALLBACK_URL="http://localhost:5000/secure/google/verify"
LOGIN_FAILURE_REDIRECT="http://localhost:5000/auth/authenticating"
LOGIN_SUCCESS_REDIRECT="http://localhost:5000/auth/authenticating"

# =============================================================================
# FRONTEND URL (Docker)
# =============================================================================
FRONTEND_URL=http://localhost:5000
HOSTNAME=localhost:5000

# =============================================================================
# STORAGE CONFIGURATION (MinIO in Docker)
# =============================================================================
STORAGE_PROVIDER=s3
S3_REGION="us-east-1"
S3_BUCKET="worklenz"
S3_URL="http://minio:9000"
S3_ACCESS_KEY_ID="minioadmin"
S3_SECRET_ACCESS_KEY="minioadmin"

# =============================================================================
# AWS SES (Email) - Optional
# =============================================================================
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your_aws_access_key_id"
AWS_SECRET_ACCESS_KEY="your_aws_secret_access_key"

# =============================================================================
# CRON JOBS
# =============================================================================
ENABLE_EMAIL_CRONJOBS=true
ENABLE_RECURRING_JOBS=true
RECURRING_JOBS_INTERVAL="0 11 */1 * 1-5"

# =============================================================================
# MISCELLANEOUS
# =============================================================================
USE_PG_NATIVE=false
CONTACT_US_EMAIL=support@example.com

# =============================================================================
# PRE-SEED ADMIN USER
# =============================================================================
PRESEED_ADMIN_USER=TRUE
ADMIN_USER=admin@llambit.io
ADMIN_PASSWORD=Password123!
ADMIN_NAME=Llambit
ADMIN_TEAM_NAME=LlambitIntegration
ADMIN_TIMEZONE=UTC


